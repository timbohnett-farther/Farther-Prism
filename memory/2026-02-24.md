

## AI-Driven Risk Profile Questionnaire (Feb 24, 2026)

### What We Built
Replaced static risk assessment with dynamic AI-powered questionnaire:

**Frontend (TypeScript + React):**
- `types/risk.ts` - Type definitions (Question, Answer, BIT, RiskTier, AssessmentResult)
- `services/riskInterviewService.ts` - API client for question generation
- `services/riskScoringService.ts` - Deterministic scoring engine
- `components/RiskQuestionnaire.tsx` - Dynamic interview UI with predictive prefetching
- `components/RiskResults.tsx` - Results dashboard with charts
- `components/RiskAssessment.jsx` - Main orchestrator (welcome → questionnaire → results)

**Backend (Node.js + Claude):**
- `src/services/riskAIService.js` - Claude 3.5 Sonnet integration
- `src/server.js` - Route: `POST /api/risk/generate-question`
- Adaptive question generation based on wealth tier, experience, and answer history

**Key Features:**
- **Predictive prefetching**: Generates next question as user selects answer (zero latency)
- **Adaptive logic**: Questions adapt to wealth tier (emerging → UHNW) and risk profile
- **Behavioral Investor Type**: 5-level classification (Highly Emotional → Hyper-Cognitive)
- **Dual-dimension scoring**: Risk Capacity (financial) vs Risk Willingness (behavioral)
- **Compliance trail**: Every question includes AI rationale (DOL PTE 2020-02)
- **10-tier allocation**: Conservative → All-In Growth with specific asset mixes

**Technical Excellence:**
- TypeScript for type safety
- Race condition prevention in prefetching (useRef)
- Fallback questions if AI fails
- Recharts for beautiful data viz
- Farther branding throughout

**Status:** Committed (cee37a8), Railway auto-deploying (~2 min)

